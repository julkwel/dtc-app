{% extends 'admin/_entry_admin.html.twig' %}
{% block content %}
	<!-- Begin Page Content -->
	<div class="container-fluid">
		<div class="d-flex align-items-center justify-content-between">
			<h2>AVIS</h2>
			<a href="{{ path('admin_review_manage') }}">Créer un avis</a>
		</div>
		<div class="container-fluid">
			<!-- DataTales Example -->
			<div class="card shadow mb-4">
				<div class="card-header py-3">
					<h6 class="m-0 font-weight-bold text-primary">Liste des avis</h6>
				</div>
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
							<thead>
							<tr>
								<th>Utilisateur</th>
								<th>Avis</th>
								<th>Note</th>
								<th>Date création</th>
								<th>Statut</th>
								<th>Action</th>
							</tr>
							</thead>
							<tbody>
							{% for review in reviews %}
								<tr>
									<td>{{ review.user ? review.user.username : '' }}</td>
									<td>{{ review.review }}</td>
									<td>{{ review.note }}</td>
									<td>{{ review.createdAt|date('d-m-Y') }}</td>
									<td>
										<a href="{{ path('admin_review_status', {'id': review.id}) }}">
											<span class="badge badge-{{ review.enabled ? 'success' : 'warning' }}">{{ review.enabled ? 'ACTIF' : 'INACTIF' }}</span>
										</a>
									</td>
									<td>
										<a class="btn btn-sm btn-success" href="{{ path('admin_review_manage', {'id': review.id}) }}">
											<span class="fas fa-edit"></span>
											Modifier
										</a>
									</td>
								</tr>
							{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>

		</div>
	</div>
	<!-- /.container-fluid -->
{% endblock %}